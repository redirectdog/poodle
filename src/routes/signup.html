<svelte:head>
	<title>Signup</title>
</svelte:head>

<RDPage>
	<h2>Signup</h2>
	<form on:submit|preventDefault="submit()">
		<div>
			<input type="text" bind:value=email />
		</div>
		<div>
			<input type="password" bind:value=password />
		</div>
		<button type="submit">Signup</button>
	</form>
</RDPage>

<script>
	export default {
		components: {
			RDPage: "../components/RDPage.html",
		},
		data: () => ({email: "", password: ""}),
		methods: {
			submit() {
				const { email, password } = this.get();
				fetch(
					"/api/users",
					{
						method: "POST",
						body: JSON.stringify({email, password}),
						headers: {"Content-Type": "application/json"},
					}
				);
			}
		},
	}
</script>
